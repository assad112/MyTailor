# โจ ุชุญุฏูุซ ููุฒุฉ ุงูุชุทุฑูุฒ - ูู ุฎูุงุท ูู ูุงุฆูุชู ุงูุฎุงุตุฉ

## ๐ ููุฎุต ุงูุชุญุฏูุซ

ุชู ุชุนุฏูู ุดุงุดุฉ ูุงุฆูุฉ ุงูุชุทุฑูุฒ (`embroidery_list_screen.dart`) ุจุญูุซ ูููู ููู ุฎูุงุท ูุงุฆูุฉ ุงูุชุทุฑูุฒ ุงูุฎุงุตุฉ ุจูุ ุจุฏูุงู ูู ุงููุงุฆูุฉ ุงููุดุชุฑูุฉ ููุฌููุน.

---

## ๐ ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### 1. **ูุธุงู ูุนุฑู ุงูุฎูุงุท ุงูุฏููุงูููู**

#### ูุจู ุงูุชุนุฏูู:
```dart
// ูุงู ูุณุชุฎุฏู ูุนุฑู ุซุงุจุช ูุฌููุน ุงูุฎูุงุทูู
final CollectionReference embroideryCollection = FirebaseFirestore.instance
    .collection('tailors')
    .doc('default_admin')  // โ ููุณ ุงููุงุฆูุฉ ููุฌููุน
    .collection('embroidery_images');
```

#### ุจุนุฏ ุงูุชุนุฏูู:
```dart
// ุงูุขู ูุณุชุฎุฏู ูุนุฑู ุงูุฎูุงุท ุงูุญุงูู
final CollectionReference embroideryCollection = FirebaseFirestore.instance
    .collection('tailors')
    .doc(_currentTailorId!)  // โ ูู ุฎูุงุท ูู ูุงุฆูุชู ุงูุฎุงุตุฉ
    .collection('embroidery_images');
```

---

### 2. **ูุธุงุฆู ุฌุฏูุฏุฉ ุชู ุฅุถุงูุชูุง**

#### ุฃ) ุฑูุน ุตูุฑุฉ ุชุทุฑูุฒ ุฌุฏูุฏุฉ
```dart
Future<void> _uploadEmbroideryImage()
```
- ุงุฎุชูุงุฑ ุตูุฑุฉ ูู ุงููุนุฑุถ
- ุฅุฏุฎุงู ูุตู ููุตูุฑุฉ
- ุฑูุน ุงูุตูุฑุฉ ุฅูู Firebase Storage
- ุญูุธ ุงูุจูุงูุงุช ูู Firestore
- ุนุฑุถ ุฑุณุงุฆู ูุฌุงุญ/ูุดู

#### ุจ) ุญุฐู ุตูุฑุฉ ุชุทุฑูุฒ
```dart
Future<void> _deleteEmbroideryImage(String docId, String imageUrl)
```
- ุทูุจ ุชุฃููุฏ ุงูุญุฐู
- ุญุฐู ุงูุตูุฑุฉ ูู Storage
- ุญุฐู ุงูุจูุงูุงุช ูู Firestore
- ุนุฑุถ ุฑุณุงุฆู ูุฌุงุญ/ูุดู

#### ุฌ) ุชุญููู ูุนุฑู ุงูุฎูุงุท ุงูุญุงูู
```dart
Future<void> _loadCurrentTailor()
```
- ุฌูุจ ูุนุฑู ุงูุฎูุงุท ูู Firebase Auth
- ุงุณุชุฎุฏุงู ูุนุฑู ุชุฌุฑูุจู ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ูุณุชุฎุฏู

---

### 3. **ุชุญุณููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู**

#### ุฃ) ุชุญุฏูุซ ุงููุตูุต
- **ูุจู:** "ูุง ุชูุฌุฏ ุชุทุฑูุฒุงุช ูุถุงูุฉ ุญุงููุงู"
- **ุจุนุฏ:** "ูุง ุชูุฌุฏ ุชุทุฑูุฒุงุช ูู ูุงุฆูุชู"

- **ูุจู:** "ุชุญููู ุชููุงุฆู - X ุนูุตุฑ"
- **ุจุนุฏ:** "ุชุทุฑูุฒุงุชู - X ุนูุตุฑ"

#### ุจ) ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุงูุญุฐู
- ุฒุฑ ุญุฐู ุฃุญูุฑ ูู ุฃุนูู ูููู ูู ุตูุฑุฉ (Grid View)
- ุฃููููุฉ ุญุฐู ูู List View
- ุฒุฑ ุญุฐู ูู ูุงูุฐุฉ ุนุฑุถ ุงูุตูุฑุฉ ุงููุจูุฑุฉ

#### ุฌ) ุชุญุฏูุซ ุฒุฑ ุงูุฅุถุงูุฉ
- **ูุจู:** ุฃููููุฉ `Icons.add` ูุน ูุต "ุฅุถุงูุฉ ุชุทุฑูุฒ"
- **ุจุนุฏ:** ุฃููููุฉ `Icons.add_photo_alternate` ูุน ูุต "ุฅุถุงูุฉ ุตูุฑุฉ"

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Firebase Firestore Structure:
```
tailors/
  โโโ {tailorId_1}/
  โ   โโโ embroidery_images/
  โ       โโโ {imageId_1}/
  โ       โ   โโโ imageUrl: "https://..."
  โ       โ   โโโ description: "ูุตู ุงูุชุทุฑูุฒ"
  โ       โ   โโโ timestamp: Timestamp
  โ       โ   โโโ tailorId: "tailorId_1"
  โ       โโโ {imageId_2}/
  โ           โโโ ...
  โ
  โโโ {tailorId_2}/
      โโโ embroidery_images/
          โโโ ...
```

### Firebase Storage Structure:
```
tailors/
  โโโ {tailorId_1}/
  โ   โโโ embroidery_images/
  โ       โโโ 1699876543210.jpg
  โ       โโโ 1699876789456.jpg
  โ
  โโโ {tailorId_2}/
      โโโ embroidery_images/
          โโโ ...
```

---

## ๐ฆ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ

```dart
import 'package:firebase_auth/firebase_auth.dart';      // ูููุตุงุฏูุฉ
import 'package:image_picker/image_picker.dart';         // ูุงุฎุชูุงุฑ ุงูุตูุฑ
import 'package:firebase_storage/firebase_storage.dart'; // ูุฑูุน ุงูุตูุฑ
import 'dart:io';                                        // ููุชุนุงูู ูุน ุงููููุงุช
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุงูุฎุตูุตูุฉ**
- โ ูู ุฎูุงุท ูุฑู ุชุทุฑูุฒุงุชู ููุท
- โ ูุง ูููู ุฑุคูุฉ ุชุทุฑูุฒุงุช ุงูุฎูุงุทูู ุงูุขุฎุฑูู
- โ ูู ุฎูุงุท ูู ูุณุงุญุฉ ุชุฎุฒูู ูููุตูุฉ

### 2. **ุฅุฏุงุฑุฉ ุณููุฉ**
- โ ุฑูุน ุตูุฑ ุจุณูููุฉ ูู ุงููุนุฑุถ
- โ ุฅุถุงูุฉ ูุตู ููู ุตูุฑุฉ
- โ ุญุฐู ุงูุตูุฑ ุจุณูููุฉ
- โ ุชุฃููุฏ ูุจู ุงูุญุฐู

### 3. **ุงูุฃุฏุงุก**
- โ ุงูุชุญููู ุงูุชููุงุฆู ููุตูุฑ
- โ Caching ุฐูู ููุตูุฑ
- โ ุฑุณุงุฆู ุชุญููู ูุงุถุญุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. **ุงุฎุชุจุงุฑ ุงูุฑูุน**
```
1. ุงูุชุญ ุงูุชุทุจูู ูุณุฌู ุฏุฎูู ูุฎูุงุท
2. ุงูุชูู ุฅูู ุตูุญุฉ ุงูุชุทุฑูุฒุงุช
3. ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ุตูุฑุฉ"
4. ุงุฎุชุฑ ุตูุฑุฉ ูู ุงููุนุฑุถ
5. ุฃุฏุฎู ูุตูุงู ููุตูุฑุฉ
6. ุชุฃูุฏ ูู ุธููุฑ ุงูุตูุฑุฉ ูู ุงููุงุฆูุฉ
```

### 2. **ุงุฎุชุจุงุฑ ุงูุญุฐู**
```
1. ุงุถุบุท ุนูู ุงูุตูุฑุฉ ุงููุฑุงุฏ ุญุฐููุง
2. ุงุถุบุท ุนูู ุฒุฑ ุงูุญุฐู ุงูุฃุญูุฑ
3. ุฃูุฏ ุนูููุฉ ุงูุญุฐู
4. ุชุฃูุฏ ูู ุงุฎุชูุงุก ุงูุตูุฑุฉ
```

### 3. **ุงุฎุชุจุงุฑ ุงูุนุฒู**
```
1. ุณุฌู ุฏุฎูู ูุฎูุงุท 1
2. ุฃุถู ุจุนุถ ุงูุตูุฑ
3. ุณุฌู ุฎุฑูุฌ
4. ุณุฌู ุฏุฎูู ูุฎูุงุท 2
5. ุชุฃูุฏ ูู ุนุฏู ุธููุฑ ุตูุฑ ุงูุฎูุงุท 1
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. **Firebase Security Rules**
ูุฌุจ ุชุญุฏูุซ ููุงุนุฏ ุงูุฃูุงู ูู Firestore:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /tailors/{tailorId}/embroidery_images/{imageId} {
      // ุงูุณูุงุญ ุจุงููุฑุงุกุฉ ููุฎูุงุท ุงููุงูู ููุท
      allow read: if request.auth != null && request.auth.uid == tailorId;
      
      // ุงูุณูุงุญ ุจุงููุชุงุจุฉ ููุฎูุงุท ุงููุงูู ููุท
      allow write: if request.auth != null && request.auth.uid == tailorId;
    }
  }
}
```

### 2. **Firebase Storage Rules**
ูุฌุจ ุชุญุฏูุซ ููุงุนุฏ ุงูุชุฎุฒูู:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /tailors/{tailorId}/embroidery_images/{imageId} {
      // ุงูุณูุงุญ ุจุงููุฑุงุกุฉ ููุฌููุน (ูุนุฑุถ ุงูุตูุฑ ููุนููุงุก)
      allow read: if true;
      
      // ุงูุณูุงุญ ุจุงููุชุงุจุฉ ูุงูุญุฐู ููุฎูุงุท ุงููุงูู ููุท
      allow write, delete: if request.auth != null && request.auth.uid == tailorId;
    }
  }
}
```

### 3. **ูุนุฑู ุงูุฎูุงุท ุงูุชุฌุฑูุจู**
ุญุงููุงู ูุณุชุฎุฏู ูุนุฑู ุซุงุจุช ููุงุฎุชุจุงุฑ: `i3ZSdx5x4FOuOOnChsw1HtvpoGy2`
ูููุตุญ ุจุฅุฒุงูุชู ูู ุงูุฅูุชุงุฌ.

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. **ููุฒุงุช ุฅุถุงููุฉ**
- [ ] ุฅููุงููุฉ ุชุนุฏูู ูุตู ุงูุตูุฑุฉ
- [ ] ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงูุตูุฑ (Drag & Drop)
- [ ] ูุดุงุฑูุฉ ุงูุตูุฑ ุนูู ูุณุงุฆู ุงูุชูุงุตู
- [ ] ุฅุถุงูุฉ ุนูุงูุงุช (Tags) ููุตูุฑ
- [ ] ุชุตููู ุงูุตูุฑ ุญุณุจ ุงูููุน

### 2. **ุงูุชุญุณููุงุช ุงูุชูููุฉ**
- [ ] ุถุบุท ุงูุตูุฑ ูุจู ุงูุฑูุน
- [ ] ุฑูุน ุตูุฑ ูุชุนุฏุฏุฉ ุฏูุนุฉ ูุงุญุฏุฉ
- [ ] Pagination ููุตูุฑ ุงููุซูุฑุฉ
- [ ] ุงูุจุญุซ ุงููุชูุฏู (ุจุงูุชุงุฑูุฎุ ุงูููุนุ ุฅูุฎ)
- [ ] ุฅุญุตุงุฆูุงุช ุนู ุงูุตูุฑ ุงููุฑููุนุฉ

### 3. **ุชุญุณููุงุช UX**
- [ ] ูุนุงููุฉ ุงูุตูุฑุฉ ูุจู ุงูุฑูุน
- [ ] ุชูุฏู ุงูุฑูุน (Progress Bar)
- [ ] ุชุญุฑูุฑ ุงูุตูุฑุฉ (Crop, Rotate)
- [ ] Swipe ููุญุฐู ุงูุณุฑูุน
- [ ] ุชุตููุฑ ูุจุงุดุฑ ูู ุงููุงููุฑุง

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุนุฏุฏ ุงูุฃุณุทุฑ ุงููุถุงูุฉ: ~220
### ุนุฏุฏ ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ: 6
### ุนุฏุฏ ุงููููุงุช ุงููุนุฏูุฉ: 1

---

## โ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุชุญููู ูุธุงู ุงูุชุทุฑูุฒ ูู ูุงุฆูุฉ ูุดุชุฑูุฉ ุฅูู ูุธุงู ุฎุงุต ุจูู ุฎูุงุท ูุน:
- ๐ **ุฎุตูุตูุฉ ูุงููุฉ** ููู ุฎูุงุท
- ๐ค **ุฑูุน ุณูู** ููุตูุฑ
- ๐๏ธ **ุญุฐู ุขูู** ูุน ุงูุชุฃููุฏ
- ๐จ **ูุงุฌูุฉ ุฌูููุฉ** ููุฑูุญุฉ
- โก **ุฃุฏุงุก ููุชุงุฒ** ูุน ุงูุชุญููู ุงูุชููุงุฆู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-11-13  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงููุทูุฑ:** AI Assistant



